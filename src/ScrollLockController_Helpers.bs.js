// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as Js_types from "rescript/lib/es6/js_types.js";
import * as Caml_option from "rescript/lib/es6/caml_option.js";

var isServer = Js_types.test(window, /* Undefined */0);

var Environment = {
  isServer: isServer
};

function make(param) {
  return {
          contents: []
        };
}

function add(value, lock) {
  value.contents = value.contents.concat([lock]);
  
}

function remove(value, lock) {
  value.contents = value.contents.filter(function (existingLock) {
        return existingLock !== lock;
      });
  
}

var LocksSet = {
  make: make,
  add: add,
  remove: remove
};

function make$1(onChage, defaultValue) {
  return {
          valueRef: {
            contents: defaultValue
          },
          onChange: onChage
        };
}

function set(value, options, valueGetter) {
  var prevValue = value.valueRef.contents;
  var newValue = valueGetter(prevValue);
  var isValueChanged = newValue !== prevValue;
  if (isValueChanged) {
    value.valueRef.contents = newValue;
    if (options !== undefined && options.silent === true) {
      return Curry._1(value.onChange, newValue);
    } else {
      return ;
    }
  }
  
}

function get(value) {
  return value.valueRef.contents;
}

var TrackedValue = {
  make: make$1,
  set: set,
  get: get
};

var checkIsElementNode = ((node) => node instanceof Element);

function convertNodeToElement(node) {
  if (checkIsElementNode(node)) {
    return Caml_option.some(node);
  }
  
}

export {
  Environment ,
  LocksSet ,
  TrackedValue ,
  checkIsElementNode ,
  convertNodeToElement ,
  
}
/* isServer Not a pure module */
